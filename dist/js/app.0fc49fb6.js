(function(t){function e(e){for(var r,o,i=e[0],s=e[1],l=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(m.length)m.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],r=!0,i=1;i<a.length;i++){var s=a[i];0!==n[s]&&(r=!1)}r&&(c.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},c=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=s;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2850:function(t,e,a){"use strict";var r=a("a053"),n=a.n(r);n.a},"38d2":function(t,e,a){},"48bb":function(t,e,a){"use strict";var r=a("fba7"),n=a.n(r);n.a},5066:function(t,e,a){"use strict";var r=a("b9e5"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return rt}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Crime Watch")]),a("developer-quote"),t._m(0),a("p",[t._v("Data uses police data api, note crime data for scotland is limited as only the transport police feed into the database.")]),a("p",[t._v("Click on a catgory to see a list of the crimes and their locations")]),a("data-select",{attrs:{searchDate:this.searchDate,searchLat:this.searchLat,searchLon:this.searchLon}}),a("crime-chart",{attrs:{crimeDataArr:this.crimeDataArr}}),this.selectedCrimesArray?a("crime-map-cat",{attrs:{selectedCrimesArray:this.selectedCrimesArray}}):t._e(),a("br"),a("crime-cat-list",{attrs:{crimeData:this.crimeDataArr}}),this.selectedCrimesArray?a("crime-cat-detail",{attrs:{selectedCrimesArray:this.selectedCrimesArray}}):t._e()],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Please enter you desired location to search, default is camden market. "),a("a",{attrs:{href:"https://gridreferencefinder.com/"}},[t._v("Grid Reference Finder")]),t._v(" can be used to find this")])}],o=(a("99af"),a("d3b7"),a("b85c")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("Developer Quote:")]),a("p",[t._v('"'+t._s(t.developerQuote)+'"')]),a("p",{attrs:{id:"author-quote"}},[t._v(t._s(t.author))])])},s=[],l={name:"developer-quote",data:function(){return{developerQuote:"",author:""}},mounted:function(){var t=this;fetch("https://programming-quotes-api.herokuapp.com/quotes/random").then((function(t){return t.json()})).then((function(e){t.developerQuote=e.en,t.author=e.author}))}},u=l,d=(a("633c"),a("2877")),m=Object(d["a"])(u,i,s,!1,null,"87cd185c",null),h=m.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",[t._m(0),t._l(t.crimeData,(function(t){return a("crime-cat",{attrs:{crimeArray:t}})}))],2)])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Crime Category")]),t._v(" "),a("th",[t._v("Count")])])}],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{on:{click:t.handleClick}},[t._v(t._s(t.crimeArray[0].category))]),t._v(" "),a("td",[t._v(t._s(t.crimeArray.length))])])},_=[],y={name:"crime-cat",props:["crimeArray"],methods:{handleClick:function(){rt.$emit("crime-array-selected",this.crimeArray)}}},b=y,g=Object(d["a"])(b,v,_,!1,null,"46c99152",null),D=g.exports,C={name:"crime-cat-list",data:function(){return{}},props:["crimeData"],components:{"crime-cat":D}},O=C,A=(a("5066"),Object(d["a"])(O,f,p,!1,null,"2db8f704",null)),j=A.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v(t._s(t.selectedCrimesArray[0].category))]),a("table",[t._m(0),t._l(t.selectedCrimesArray,(function(e){return a("tr",[a("td",[t._v(t._s(e.location.street.name))]),null!==e.outcome_status?a("td",[t._v(t._s(e.outcome_status.category))]):t._e(),null===e.outcome_status?a("td",[t._v("null")]):t._e(),null!==e.outcome_status?a("td",[t._v(t._s(e.outcome_status.date))]):t._e(),null==e.outcome_status?a("td",[t._v("null")]):t._e()])}))],2)])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Location")]),a("th",[t._v("Outcome")]),a("th",[t._v("Date")])])}],$={name:"crime-cat-detail",props:["selectedCrimesArray"]},x=$,L=(a("48bb"),Object(d["a"])(x,w,S,!1,null,"07eceb51",null)),k=L.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.emitSelection(e)}}},[a("label",{attrs:{for:"time-from"}},[t._v("Time From")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataSelect.date,expression:"dataSelect.date"}],attrs:{type:"month",name:"time-from"},domProps:{value:t.dataSelect.date},on:{input:function(e){e.target.composing||t.$set(t.dataSelect,"date",e.target.value)}}}),a("label",{attrs:{for:"search-lat"}},[t._v("Latitude")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataSelect.lat,expression:"dataSelect.lat"}],attrs:{type:"number",step:"any",name:"search-late"},domProps:{value:t.dataSelect.lat},on:{input:function(e){e.target.composing||t.$set(t.dataSelect,"lat",e.target.value)}}}),a("label",{attrs:{for:"search-lon"}},[t._v("Longitude")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataSelect.lon,expression:"dataSelect.lon"}],attrs:{type:"number",step:"any",name:"search-late"},domProps:{value:t.dataSelect.lon},on:{input:function(e){e.target.composing||t.$set(t.dataSelect,"lon",e.target.value)}}}),a("button",{attrs:{type:"submit",name:"button"}},[t._v("Find")])])])},E=[],M={name:"data-select",props:["searchDate","searchLat","searchLon"],data:function(){return{dataSelect:{date:"2019-12",lat:"51.5415305",lon:"-0.1457874"}}},methods:{emitSelection:function(){rt.$emit("data-selection",this.dataSelect)}}},q=M,T=(a("dd05"),Object(d["a"])(q,P,E,!1,null,"3c480d4e",null)),G=T.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GChart",{attrs:{type:"BarChart",data:t.chartData,options:t.chartOptions}})],1)},Q=[],U=a("cb43"),z={name:"crime-chart",data:function(){return{chartOptions:{title:"Crime",width:750,height:450}}},props:["crimeDataArr"],components:{GChart:U["GChart"]},computed:{chartData:function(){if(this.crimeDataArr){var t,e=[["Crime","Counts"]],a=Object(o["a"])(this.crimeDataArr);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.push([r[0].category,r.length])}}catch(n){a.e(n)}finally{a.f()}return e}}}},F=z,N=(a("b5ff"),Object(d["a"])(F,I,Q,!1,null,"32965038",null)),B=N.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}})},R=[],V=(a("d81d"),a("e11e")),W=a.n(V),H={name:"crime-map-cat",props:["selectedCrimesArray"],components:{L:W.a},data:function(){return{zoom:13,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}},watch:{selectedCrimesArray:function(){this.map.remove(),this.reDraw(this.selectedCrimesArray)}},mounted:function(){this.reDraw(this.selectedCrimesArray)},methods:{addMarker:function(t,e){W.a.marker(t).addTo(this.map).bindPopup(e)},reDraw:function(t){this.map=null,this.map=W.a.map("map"),this.map.setView([t[0].location.latitude,t[0].location.longitude],this.zoom),W.a.tileLayer(this.url,{attribution:this.attribution}).addTo(this.map);var e,a=Object(o["a"])(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;this.addMarker([r.location.latitude,r.location.longitude],r.outcome_status)}}catch(n){a.e(n)}finally{a.f()}}}},K=H,X=(a("2850"),Object(d["a"])(K,J,R,!1,null,"ae089d88",null)),Y=X.exports,Z={name:"app",data:function(){return{crimeDataArr:null,crimeDataObj:null,selectedCrimesArray:null,searchDate:"2019-12",searchLat:"51.5415305",searchLon:"-0.1457874"}},mounted:function(){var t=this;this.fetchData(),rt.$on("crime-array-selected",(function(e){t.selectedCrimesArray=e})),rt.$on("data-selection",(function(e){t.searchDate=e.date,t.searchLat=e.lat,t.searchLon=e.lon,t.fetchData()}))},methods:{fetchData:function(){var t=this;fetch("https://data.police.uk/api/crimes-street/all-crime?lat=".concat(this.searchLat,"&lng=").concat(this.searchLon,"&date=").concat(this.searchDate)).then((function(t){return t.json()})).then((function(e){var a,r={},n=Object(o["a"])(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;void 0===r["".concat(c.category)]&&(r["".concat(c.category)]=[]),r["".concat(c.category)].push(c)}}catch(l){n.e(l)}finally{n.f()}t.crimeDataObj=r;var i=[];for(var s in r)i.push(r["".concat(s)]);t.crimeDataArr=i.sort().reverse()}))}},components:{"developer-quote":h,"crime-cat-list":j,"crime-cat-detail":k,"data-select":G,"crime-chart":B,"crime-map-cat":Y}},tt=Z,et=Object(d["a"])(tt,n,c,!1,null,"08023e7e",null),at=et.exports;r["a"].use(U["default"]),delete V["Icon"].Default.prototype._getIconUrl,V["Icon"].Default.imagePath=".",V["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),r["a"].config.productionTip=!1;var rt=new r["a"];new r["a"]({render:function(t){return t(at)}}).$mount("#app")},"633c":function(t,e,a){"use strict";var r=a("38d2"),n=a.n(r);n.a},a053:function(t,e,a){},b5ff:function(t,e,a){"use strict";var r=a("f6d0"),n=a.n(r);n.a},b9e5:function(t,e,a){},d193:function(t,e,a){},dd05:function(t,e,a){"use strict";var r=a("d193"),n=a.n(r);n.a},f6d0:function(t,e,a){},fba7:function(t,e,a){}});
//# sourceMappingURL=app.0fc49fb6.js.map